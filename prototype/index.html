<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>–ù—É—Ç—Ä–∏–ú–∞–π–Ω–¥ ‚Äî CJM Prototype (3 –≤–∞—Ä–∏–∞–Ω—Ç–∞)</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
  body { font-family: 'Inter', sans-serif; }
  .phone-frame {
    width: 375px; height: 720px;
    border-radius: 40px;
    border: 8px solid #1f2937;
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25);
    position: relative;
  }
  .phone-frame::before {
    content: '';
    position: absolute;
    top: 0; left: 50%;
    transform: translateX(-50%);
    width: 120px; height: 28px;
    background: #1f2937;
    border-radius: 0 0 16px 16px;
    z-index: 50;
  }
  .screen-scroll { height: 100%; overflow-y: auto; }
  .screen-scroll::-webkit-scrollbar { display: none; }
  .fade-in { animation: fadeIn 0.3s ease-in; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
  .pulse { animation: pulse 2s infinite; }
  @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
</style>
</head>
<body class="bg-gray-100 min-h-screen">
<div id="root"></div>
<script type="text/babel">
const { useState, useCallback, useMemo } = React;

// ‚ïê‚ïê‚ïê DATA from M2 Product Discovery Brief ‚ïê‚ïê‚ïê
const VARIANTS = {
  A: {
    name: "–ö–ü–¢-–ü—Ä–æ—Ñ–∏–ª—å", emoji: "üß†",
    col: "emerald", bg: "bg-emerald-500", bgl: "bg-emerald-50", bdr: "border-emerald-200",
    txt: "text-emerald-700", ring: "ring-emerald-500",
    landing: {
      hl: "–ü–æ—Ö—É–¥–µ–π —á–µ—Ä–µ–∑ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—é –ø—Ä–∏–≤—ã—á–µ–∫",
      sub: "–£–∑–Ω–∞–π –ü–û–ß–ï–ú–£ —Ç—ã –ø–µ—Ä–µ–µ–¥–∞–µ—à—å ‚Äî –∏ —Å–ª–æ–º–∞–π —Ü–∏–∫–ª. –ú–µ—Ç–æ–¥ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ-–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–æ–π —Ç–µ—Ä–∞–ø–∏–∏, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π AI –ø–æ–¥ —Ç–µ–±—è.",
      cta: "–ü—Ä–æ–π—Ç–∏ –ö–ü–¢-–ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ",
      social: "45M+ –ª—é–¥–µ–π –∏–∑–º–µ–Ω–∏–ª–∏ –ø–∏—â–µ–≤—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ —Å CBT-–ø–æ–¥—Ö–æ–¥–æ–º"
    },
    onboarding: {
      q1: { q: "–ß—Ç–æ —á–∞—â–µ –≤—Å–µ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ?", opts: ["–°—Ç—Ä–µ—Å—Å –Ω–∞ —Ä–∞–±–æ—Ç–µ", "–°–∫—É–∫–∞ –¥–æ–º–∞", "–≠–º–æ—Ü–∏–∏ (–≥—Ä—É—Å—Ç—å/—Ä–∞–¥–æ—Å—Ç—å)", "–ó–∞ –∫–æ–º–ø–∞–Ω–∏—é —Å –¥—Ä—É–∑—å—è–º–∏"] },
      q2: { q: "–ß—Ç–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å –ü–û–°–õ–ï —Å—Ä—ã–≤–∞?", opts: ["–í–∏–Ω—É –∏ —Å—Ç—ã–¥", "–ë–µ–∑—Ä–∞–∑–ª–∏—á–∏–µ", "–ó–ª–æ—Å—Ç—å –Ω–∞ —Å–µ–±—è", "–¢—Ä–µ–≤–æ–≥—É –æ –∑–¥–æ—Ä–æ–≤—å–µ"] },
      style: "–ì–ª—É–±–æ–∫–∏–π –∫–≤–∏–∑ ‚Üí –ö–ü–¢-–ø—Ä–æ—Ñ–∏–ª—å"
    },
    aha: {
      title: "–¢–≤–æ–π –ö–ü–¢-–ø—Ä–æ—Ñ–∏–ª—å –≥–æ—Ç–æ–≤",
      desc: "–¢—ã ‚Äî –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ï–¥–æ–∫ (—Ç–∏–ø 2 –∏–∑ 5)",
      wow: "–¢–≤–æ–π –≥–ª–∞–≤–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä: —Å—Ç—Ä–µ—Å—Å ‚Üí comfort food ‚Üí –≤–∏–Ω–∞ ‚Üí –µ—â—ë –±–æ–ª—å—à–µ —Å—Ç—Ä–µ—Å—Å–∞. –≠—Ç–æ —Ü–∏–∫–ª, –∏ –º—ã –∑–Ω–∞–µ–º –∫–∞–∫ –µ–≥–æ —Å–ª–æ–º–∞—Ç—å.",
      kpi: "78% –ª—é–¥–µ–π —Å —Ç–∞–∫–∏–º –ø—Ä–æ—Ñ–∏–ª–µ–º –º–µ–Ω—è—é—Ç –ø—Ä–∏–≤—ã—á–∫–∏ –∑–∞ 8 –Ω–µ–¥–µ–ª—å",
      insight: "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∏–∑ 20 –ö–ü–¢-—É—Ä–æ–∫–æ–≤"
    },
    dash: {
      hook: "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —É—Ä–æ–∫ 5 –º–∏–Ω",
      lesson: "–£—Ä–æ–∫ 3: –ü–æ—á–µ–º—É –º–æ–∑–≥ –ø—É—Ç–∞–µ—Ç —Å—Ç—Ä–µ—Å—Å —Å –≥–æ–ª–æ–¥–æ–º",
      stats: { streak: 5, lessons: "3/20", mood: "–°—Ç–∞–±–∏–ª—å–Ω–æ" },
      progress: "–¢—Ä–∏–≥–≥–µ—Ä–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: 12 –∏–∑ 15"
    },
    pay: {
      when: "–°—Ä–∞–∑—É –ø–æ—Å–ª–µ –ö–ü–¢-–ø—Ä–æ—Ñ–∏–ª—è (–î–µ–Ω—å 1)",
      frame: "–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π —Å–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω",
      price: "499 ‚ÇΩ/–º–µ—Å",
      hook: "–ü–µ—Ä–≤—ã–µ 3 —É—Ä–æ–∫–∞ ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ü–æ–ª–Ω—ã–π –∫—É—Ä—Å ‚Äî 20 —É—Ä–æ–∫–æ–≤."
    },
    inv: {
      hook: "–ü–æ–¥–µ–ª–∏—Å—å –ö–ü–¢-–ø—Ä–æ—Ñ–∏–ª–µ–º —Å –ø–æ–¥—Ä—É–≥–æ–π",
      mech: "–í—ã –æ–±–µ –ø–æ–ª—É—á–∏—Ç–µ –Ω–µ–¥–µ–ª—é Premium –±–µ—Å–ø–ª–∞—Ç–Ω–æ"
    }
  },
  B: {
    name: "7-Day Proof", emoji: "üìä",
    col: "blue", bg: "bg-blue-500", bgl: "bg-blue-50", bdr: "border-blue-200",
    txt: "text-blue-700", ring: "ring-blue-500",
    landing: {
      hl: "–°—Ç–∞–Ω—å —ç–∫—Å–ø–µ—Ä—Ç–æ–º —Å–≤–æ–µ–≥–æ —Ç–µ–ª–∞ –∑–∞ 7 –¥–Ω–µ–π",
      sub: "–¢—Ä–µ–∫–µ—Ä –ø–∏—Ç–∞–Ω–∏—è + –º–∏–∫—Ä–æ-–ø—Ä–∏–≤—ã—á–∫–∏ + –∞–Ω–∞–ª–∏—Ç–∏–∫–∞. –£–≤–∏–¥—å –ø–µ—Ä–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é ‚Äî –±–µ–∑ –¥–∏–µ—Ç –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.",
      cta: "–ù–∞—á–∞—Ç—å 7-–¥–Ω–µ–≤–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂",
      social: "–°—Ä–µ–¥–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: -1.2 –∫–≥ –∑–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é"
    },
    onboarding: {
      q1: { q: "–¢–≤–æ—è –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å?", opts: ["–°–Ω–∏–∑–∏—Ç—å –≤–µ—Å", "–£–ª—É—á—à–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ", "–ë–æ–ª—å—à–µ —ç–Ω–µ—Ä–≥–∏–∏", "–ü–æ–Ω—è—Ç—å —Å–≤–æ—ë —Ç–µ–ª–æ"] },
      q2: { q: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≥–æ—Ç–æ–≤(–∞) —É–¥–µ–ª—è—Ç—å –≤ –¥–µ–Ω—å?", opts: ["5 –º–∏–Ω—É—Ç", "10 –º–∏–Ω—É—Ç", "15+ –º–∏–Ω—É—Ç", "–°–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ"] },
      style: "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç ‚Üí —Å—Ä–∞–∑—É –≤ —Ç—Ä–µ–∫–µ—Ä"
    },
    aha: {
      title: "–¢–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞ 7 –¥–Ω–µ–π",
      desc: "–í–µ—Å: -1.1 –∫–≥ | –ö–∞–ª–æ—Ä–∏–∏: -340/–¥–µ–Ω—å –≤ —Å—Ä–µ–¥–Ω–µ–º",
      wow: "–¢—ã —Å–æ–∫—Ä–∞—Ç–∏–ª(–∞) –ø–µ—Ä–µ–∫—É—Å—ã –Ω–∞ 60% –ø—Ä–æ—Å—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã. –ë–µ–∑ –¥–∏–µ—Ç—ã.",
      kpi: "89% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∏–¥—è—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ –ø–µ—Ä–≤—É—é –Ω–µ–¥–µ–ª—é",
      insight: "AI –≤—ã—è–≤–∏–ª: —Ç–≤–æ–π –ø–∏–∫ –ø–µ—Ä–µ–µ–¥–∞–Ω–∏—è ‚Äî 16:00-18:00"
    },
    dash: {
      hook: "Dashboard + streaks + achievements",
      lesson: "Achievement: 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥!",
      stats: { streak: 7, weight: "-1.1 –∫–≥", calories: "1,840 avg" },
      progress: "–¶–µ–ª—å: -5 –∫–≥ ‚Üí –ø—Ä–æ–≥—Ä–µ—Å—Å 22%"
    },
    pay: {
      when: "–ü–æ—Å–ª–µ 7 –¥–Ω–µ–π (–ø–æ—Å–ª–µ –ø–µ—Ä–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)",
      frame: "–ü—Ä–æ–¥–æ–ª–∂–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–π AI-–∏–Ω—Å–∞–π—Ç—ã",
      price: "499 ‚ÇΩ/–º–µ—Å",
      hook: "7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –î–∞–ª—å—à–µ ‚Äî —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º AI-—Ç—Ä–µ–Ω–µ—Ä–æ–º."
    },
    inv: {
      hook: "–ü–æ–∑–æ–≤–∏ –¥—Ä—É–≥–∞ –Ω–∞ 7-Day Challenge",
      mech: "–°–æ–≤–º–µ—Å—Ç–Ω—ã–π —á–µ–ª–ª–µ–Ω–¥–∂: –≤–∏–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –¥—Ä—É–≥ –¥—Ä—É–≥–∞"
    }
  },
  C: {
    name: "AI-–î–µ—Ç–µ–∫—Ç–∏–≤", emoji: "üîç",
    col: "violet", bg: "bg-violet-500", bgl: "bg-violet-50", bdr: "border-violet-200",
    txt: "text-violet-700", ring: "ring-violet-500",
    landing: {
      hl: "–†–∞–∑–±–µ—Ä–∏—Å—å –ø–æ—á–µ–º—É —Ç—ã —Å—Ä—ã–≤–∞–µ—à—å—Å—è",
      sub: "AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞—Ö–æ–¥–∏—Ç —Å–∫—Ä—ã—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–µ—Ä–µ–µ–¥–∞–Ω–∏—è. –ù–µ –¥–∏–µ—Ç–∞ ‚Äî —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.",
      cta: "–ù–∞—á–∞—Ç—å AI-—Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ",
      social: "AI –Ω–∞—Ö–æ–¥–∏—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Å—Ä—ã–≤–æ–≤ –∑–∞ 3-5 –¥–Ω–µ–π"
    },
    onboarding: {
      q1: { q: "–ö–∞–∫ —á–∞—Å—Ç–æ —Å–ª—É—á–∞—é—Ç—Å—è —Å—Ä—ã–≤—ã?", opts: ["–ö–∞–∂–¥—ã–π –¥–µ–Ω—å", "2-3 —Ä–∞–∑–∞ –≤ –Ω–µ–¥–µ–ª—é", "–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é", "–ü–∞—Ä—É —Ä–∞–∑ –≤ –º–µ—Å—è—Ü"] },
      q2: { q: "–ß—Ç–æ –æ–±—ã—á–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ —Å—Ä—ã–≤–æ–º?", opts: ["–ü—Ä–æ–ø—É—Å–∫–∞—é –ø—Ä–∏—ë–º –ø–∏—â–∏", "–ö–æ–Ω—Ñ–ª–∏–∫—Ç/—Å—Ç—Ä–µ—Å—Å", "–í–∏–∂—É –µ–¥—É/—Ä–µ–∫–ª–∞–º—É", "–ü—Ä–æ—Å—Ç–æ –ø—Ä–∏–≤—ã—á–∫–∞"] },
      style: "AI-–∏–Ω—Ç–µ—Ä–≤—å—é ‚Üí –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"
    },
    aha: {
      title: "AI –Ω–∞—à—ë–ª —Ç–≤–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω!",
      desc: "–ü–∞—Ç—Ç–µ—Ä–Ω: –°—Ç—Ä–µ—Å—Å ‚Üí –ü—Ä–æ–ø—É—Å–∫ –æ–±–µ–¥–∞ ‚Üí –ü–µ—Ä–µ–µ–¥–∞–Ω–∏–µ –≤–µ—á–µ—Ä–æ–º",
      wow: "–í 73% —Å–ª—É—á–∞–µ–≤ —Ç–≤–æ–∏ —Å—Ä—ã–≤—ã –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ—Å–ª–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–≥–æ –æ–±–µ–¥–∞ –Ω–∞ —Ä–∞–±–æ—Ç–µ. –≠—Ç–æ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å –≤–æ–ª–∏ ‚Äî —ç—Ç–æ –±–∏–æ—Ö–∏–º–∏—è.",
      kpi: "–ü–æ—Å–ª–µ 3 AI-–∏–Ω—Å–∞–π—Ç–æ–≤ —Å—Ä—ã–≤—ã —Å–æ–∫—Ä–∞—â–∞—é—Ç—Å—è –Ω–∞ 40%",
      insight: "–¢—Ä–∏–≥–≥–µ—Ä –¥–Ω—è: —Å–µ–≥–æ–¥–Ω—è –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Å—Ä—ã–≤–∞ –≤ 18:00"
    },
    dash: {
      hook: "AI-–∏–Ω—Å–∞–π—Ç—ã + —Ç—Ä–∏–≥–≥–µ—Ä –¥–Ω—è",
      lesson: "–ò–Ω—Å–∞–π—Ç #4: –°–æ–Ω < 6—á = +35% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Å—Ä—ã–≤–∞",
      stats: { insights: 4, triggers: "3 –Ω–∞–π–¥–µ–Ω–æ", risk: "–ù–∏–∑–∫–∏–π —Å–µ–≥–æ–¥–Ω—è" },
      progress: "–°—Ä—ã–≤–æ–≤ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ: 1 (–±—ã–ª–æ 5)"
    },
    pay: {
      when: "–ü–æ—Å–ª–µ 3-–≥–æ AI-–∏–Ω—Å–∞–π—Ç–∞ (proof of value)",
      frame: "AI —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–π –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑",
      price: "499 ‚ÇΩ/–º–µ—Å",
      hook: "3 –∏–Ω—Å–∞–π—Ç–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –ü–æ–ª–Ω—ã–π AI-–∞–Ω–∞–ª–∏–∑ ‚Äî –≤ Premium."
    },
    inv: {
      hook: "–£–∑–Ω–∞–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–¥—Ä—É–≥–∏ ‚Äî –≤–º–µ—Å—Ç–µ –ª–µ–≥—á–µ",
      mech: "–ü–∞—Ä–Ω—ã–π AI-–∞–Ω–∞–ª–∏–∑: –Ω–∞–π–¥–∏—Ç–µ –æ–±—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã"
    }
  }
};

const CJM_META = {
  landing:    { stage: "Awareness",  aarrr: "Acquisition",  q: "–ö–∞–∫ —Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ–º —Ü–µ–Ω–Ω–æ—Å—Ç—å? –ß—Ç–æ —Ü–µ–ø–ª—è–µ—Ç —Å –ø–µ—Ä–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞?" },
  onboarding: { stage: "Interest",   aarrr: "Activation",   q: "–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –¥–æ–≤–æ–¥–∏–º –¥–æ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è? –ö–∞–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞—ë–º?" },
  aha:        { stage: "Desire",     aarrr: "Activation",   q: "–ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç WOW? –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–Ω–∏–º–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å?" },
  dash:       { stage: "Engagement", aarrr: "Retention",     q: "–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å? –ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏–≤—ã—á–∫–∞?" },
  pay:        { stage: "Decision",   aarrr: "Revenue",       q: "–ö–æ–≥–¥–∞ –∏ –∫–∞–∫ –ø—Ä–æ—Å–∏–º –¥–µ–Ω—å–≥–∏? –ß—Ç–æ —É–∂–µ –¥–æ–∫–∞–∑–∞–Ω–æ –∫ —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É?" },
  inv:        { stage: "Advocacy",   aarrr: "Referral",      q: "–ó–∞—á–µ–º –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π? –ß—Ç–æ –ø–æ–ª—É—á–∞—é—Ç –æ–±–∞?" },
};

const SCREENS = ["landing","onboarding","aha","dash","pay","inv"];
const SCREEN_NAMES = { landing:"Landing", onboarding:"Onboarding", aha:"Aha Moment", dash:"Dashboard", pay:"Paywall", inv:"Invite" };
const SCREEN_ICONS = { landing:"üè†", onboarding:"üìù", aha:"‚ú®", dash:"üì±", pay:"üí≥", inv:"üéÅ" };

// ‚ïê‚ïê‚ïê PHONE SCREEN COMPONENTS ‚ïê‚ïê‚ïê

function LandingScreen({ v, d }) {
  return (
    <div className={`screen-scroll ${d.bgl}`}>
      <div className={`pt-10 pb-6 px-6 ${d.bg} text-white`}>
        <div className="text-4xl mb-3">{d.emoji}</div>
        <h1 className="text-2xl font-bold leading-tight mb-3">{v.hl}</h1>
        <p className="text-white/80 text-sm leading-relaxed">{v.sub}</p>
      </div>
      <div className="px-6 py-6 space-y-4">
        <button className={`w-full py-4 rounded-2xl ${d.bg} text-white font-bold text-lg shadow-lg hover:opacity-90 transition`}>
          {v.cta} ‚Üí
        </button>
        <p className="text-center text-xs text-gray-500">{v.social}</p>
        <div className="flex items-center gap-3 p-4 bg-white rounded-xl shadow-sm">
          <div className="text-2xl">‚≠ê</div>
          <div>
            <div className="font-semibold text-sm text-gray-800">4.7 –∏–∑ 5</div>
            <div className="text-xs text-gray-500">12,400+ –æ—Ç–∑—ã–≤–æ–≤</div>
          </div>
        </div>
      </div>
    </div>
  );
}

function OnboardingScreen({ v, d }) {
  const [step, setStep] = useState(0);
  const q = step === 0 ? v.q1 : v.q2;
  return (
    <div className={`screen-scroll ${d.bgl} pt-12 px-6`}>
      <div className="flex gap-2 mb-6">
        <div className={`h-1.5 flex-1 rounded-full ${step >= 0 ? d.bg : 'bg-gray-200'}`}/>
        <div className={`h-1.5 flex-1 rounded-full ${step >= 1 ? d.bg : 'bg-gray-200'}`}/>
        <div className="h-1.5 flex-1 rounded-full bg-gray-200"/>
      </div>
      <p className="text-xs text-gray-400 mb-2 uppercase tracking-wider">{v.style}</p>
      <h2 className="text-xl font-bold text-gray-900 mb-6">{q.q}</h2>
      <div className="space-y-3">
        {q.opts.map((o, i) => (
          <button key={i} onClick={() => setStep(1)}
            className={`w-full text-left p-4 rounded-xl border-2 ${d.bdr} bg-white hover:${d.bgl} transition font-medium text-gray-800`}>
            {o}
          </button>
        ))}
      </div>
    </div>
  );
}

function AhaScreen({ v, d }) {
  return (
    <div className={`screen-scroll ${d.bgl} pt-12 px-6`}>
      <div className="text-center mb-6">
        <div className="text-5xl mb-3 pulse">‚ú®</div>
        <h2 className="text-xl font-bold text-gray-900">{v.title}</h2>
      </div>
      <div className={`p-5 rounded-2xl bg-white shadow-lg border-2 ${d.bdr} mb-4`}>
        <div className={`text-sm font-bold ${d.txt} mb-2`}>{v.desc}</div>
        <p className="text-gray-600 text-sm leading-relaxed">{v.wow}</p>
      </div>
      <div className={`p-4 rounded-xl ${d.bg} text-white mb-4`}>
        <div className="text-2xl font-bold mb-1">{v.kpi}</div>
      </div>
      <div className="p-4 rounded-xl bg-white shadow-sm">
        <div className="text-sm font-semibold text-gray-700 mb-1">–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:</div>
        <div className={`text-sm ${d.txt} font-medium`}>{v.insight}</div>
      </div>
    </div>
  );
}

function DashScreen({ v, d }) {
  return (
    <div className={`screen-scroll bg-white pt-12 px-6`}>
      <div className="flex items-center justify-between mb-6">
        <div>
          <div className="text-sm text-gray-500">–°–µ–≥–æ–¥–Ω—è</div>
          <div className="text-lg font-bold text-gray-900">{v.hook}</div>
        </div>
        <div className={`w-12 h-12 rounded-full ${d.bg} flex items-center justify-center text-white text-xl`}>
          {d.emoji}
        </div>
      </div>
      <div className={`p-4 rounded-xl ${d.bgl} border ${d.bdr} mb-4`}>
        <div className={`text-sm font-semibold ${d.txt} mb-2`}>{v.lesson}</div>
        <div className="h-2 bg-gray-200 rounded-full overflow-hidden">
          <div className={`h-full ${d.bg} rounded-full`} style={{width:'60%'}}/>
        </div>
      </div>
      <div className="grid grid-cols-3 gap-3 mb-4">
        {Object.entries(v.stats).map(([k,val]) => (
          <div key={k} className="p-3 bg-gray-50 rounded-xl text-center">
            <div className="text-lg font-bold text-gray-900">{val}</div>
            <div className="text-xs text-gray-500 capitalize">{k}</div>
          </div>
        ))}
      </div>
      <div className="p-4 bg-gray-50 rounded-xl">
        <div className="text-sm text-gray-600">{v.progress}</div>
      </div>
    </div>
  );
}

function PayScreen({ v, d }) {
  return (
    <div className={`screen-scroll ${d.bgl} pt-12 px-6`}>
      <div className="text-center mb-6">
        <div className="text-4xl mb-2">üîì</div>
        <h2 className="text-xl font-bold text-gray-900">{v.frame}</h2>
        <p className="text-sm text-gray-500 mt-2">–ú–æ–º–µ–Ω—Ç –æ–ø–ª–∞—Ç—ã: {v.when}</p>
      </div>
      <div className={`p-6 rounded-2xl bg-white shadow-lg border-2 ${d.bdr} mb-4`}>
        <div className="flex items-end justify-center gap-1 mb-4">
          <span className="text-4xl font-extrabold text-gray-900">{v.price}</span>
        </div>
        <p className="text-center text-sm text-gray-600 mb-4">{v.hook}</p>
        <button className={`w-full py-4 rounded-xl ${d.bg} text-white font-bold text-lg`}>
          –ù–∞—á–∞—Ç—å Premium
        </button>
      </div>
      <div className="space-y-2 text-sm text-gray-500 px-2">
        <div className="flex items-center gap-2">‚úì –ö–ü–¢-—É—Ä–æ–∫–∏ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</div>
        <div className="flex items-center gap-2">‚úì AI-–∫–æ—É—á 24/7</div>
        <div className="flex items-center gap-2">‚úì –ì—Ä—É–ø–ø–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</div>
        <div className="flex items-center gap-2">‚úì –û—Ç–º–µ–Ω–∞ –≤ 1 –∫–ª–∏–∫, –±–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π</div>
      </div>
    </div>
  );
}

function InvScreen({ v, d }) {
  return (
    <div className={`screen-scroll ${d.bgl} pt-12 px-6`}>
      <div className="text-center mb-6">
        <div className="text-5xl mb-3">üéÅ</div>
        <h2 className="text-xl font-bold text-gray-900">{v.hook}</h2>
      </div>
      <div className={`p-5 rounded-2xl bg-white shadow-lg border-2 ${d.bdr} mb-4`}>
        <p className="text-gray-700 text-sm mb-4">{v.mech}</p>
        <button className={`w-full py-3 rounded-xl ${d.bg} text-white font-bold`}>
          –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å ‚Üí
        </button>
      </div>
      <div className="p-4 bg-white rounded-xl shadow-sm">
        <div className="text-sm font-semibold text-gray-700 mb-2">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</div>
        <div className="space-y-2 text-sm text-gray-600">
          <div>1. –û—Ç–ø—Ä–∞–≤—å —Å—Å—ã–ª–∫—É</div>
          <div>2. –ü–æ–¥—Ä—É–≥–∞/–¥—Ä—É–≥ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è</div>
          <div>3. –í—ã –æ–±–∞ –ø–æ–ª—É—á–∞–µ—Ç–µ –±–æ–Ω—É—Å</div>
        </div>
      </div>
    </div>
  );
}

const SCREEN_COMPONENTS = { landing: LandingScreen, onboarding: OnboardingScreen, aha: AhaScreen, dash: DashScreen, pay: PayScreen, inv: InvScreen };
const SCREEN_DATA_KEYS = { landing: "landing", onboarding: "onboarding", aha: "aha", dash: "dash", pay: "pay", inv: "inv" };

// ‚ïê‚ïê‚ïê CJM OVERLAY BADGE ‚ïê‚ïê‚ïê
function CJMBadge({ screen, show }) {
  if (!show) return null;
  const m = CJM_META[screen];
  return (
    <div className="absolute top-8 left-2 right-2 z-40 fade-in">
      <div className="bg-gray-900/95 text-white p-3 rounded-xl text-xs space-y-1 shadow-lg">
        <div className="flex justify-between">
          <span className="font-bold">üìä {m.stage}</span>
          <span className="bg-white/20 px-2 py-0.5 rounded-full">{m.aarrr}</span>
        </div>
        <div className="text-white/70 italic">CustDev Q: {m.q}</div>
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê COMPARISON TABLE ‚ïê‚ïê‚ïê
function CompareTable({ onClose }) {
  const rows = [
    { label: "Aha Moment", key: d => d.aha.title },
    { label: "Entry Hook", key: d => d.landing.hl },
    { label: "Paywall", key: d => d.pay.when },
    { label: "Core Loop", key: d => d.dash.hook },
    { label: "Invite", key: d => d.inv.hook },
  ];
  return (
    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onClick={onClose}>
      <div className="bg-white rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-auto shadow-2xl" onClick={e=>e.stopPropagation()}>
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold">‚öñÔ∏è –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</h3>
          <button onClick={onClose} className="text-gray-400 hover:text-gray-700 text-2xl">√ó</button>
        </div>
        <table className="w-full text-sm">
          <thead>
            <tr className="border-b-2">
              <th className="text-left py-2 pr-4 text-gray-500 w-28">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
              {Object.entries(VARIANTS).map(([k,v]) => (
                <th key={k} className="text-left py-2 px-2"><span className="text-lg">{v.emoji}</span> {v.name}</th>
              ))}
            </tr>
          </thead>
          <tbody>
            {rows.map((r, i) => (
              <tr key={i} className="border-b">
                <td className="py-3 pr-4 font-medium text-gray-600">{r.label}</td>
                {Object.values(VARIANTS).map((v, j) => (
                  <td key={j} className="py-3 px-2 text-gray-800">{r.key(v)}</td>
                ))}
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê BUILDER ‚ïê‚ïê‚ïê
function Builder({ config, setConfig, onClose }) {
  return (
    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onClick={onClose}>
      <div className="bg-white rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-auto shadow-2xl" onClick={e=>e.stopPropagation()}>
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold">üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä ‚Äî —Å–æ–±–µ—Ä–∏ —Å–≤–æ–π CJM</h3>
          <button onClick={onClose} className="text-gray-400 hover:text-gray-700 text-2xl">√ó</button>
        </div>
        <p className="text-sm text-gray-500 mb-4">–í—ã–±–µ—Ä–∏ –ª—É—á—à–∏–π —ç–∫—Ä–∞–Ω –∏–∑ –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞:</p>
        {SCREENS.map(s => (
          <div key={s} className="mb-4">
            <div className="text-sm font-semibold text-gray-700 mb-2">{SCREEN_ICONS[s]} {SCREEN_NAMES[s]}</div>
            <div className="flex gap-2">
              {["A","B","C"].map(vk => (
                <button key={vk}
                  onClick={() => setConfig(prev => ({...prev, [s]: vk}))}
                  className={`flex-1 py-2 px-3 rounded-lg text-sm font-medium border-2 transition
                    ${config[s] === vk
                      ? `${VARIANTS[vk].bg} text-white border-transparent`
                      : `bg-white ${VARIANTS[vk].txt} ${VARIANTS[vk].bdr} hover:bg-gray-50`}`}>
                  {VARIANTS[vk].emoji} {vk}
                </button>
              ))}
            </div>
          </div>
        ))}
        <button onClick={onClose}
          className="w-full mt-4 py-3 rounded-xl bg-gray-900 text-white font-bold hover:bg-gray-800 transition">
          ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        </button>
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê SCORING ‚ïê‚ïê‚ïê
function Scoring({ onClose, onLock }) {
  const criteria = [
    { name: "–ö–æ–Ω–≤–µ—Ä—Å–∏—è", desc: "–ù–∞—Å–∫–æ–ª—å–∫–æ —É–±–µ–¥–∏—Ç–µ–ª—å–Ω–æ –≤–µ–¥—ë—Ç –∫ –æ–ø–ª–∞—Ç–µ?" },
    { name: "Retention", desc: "–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å?" },
    { name: "–í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å", desc: "–ó–∞—á–µ–º –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π?" },
  ];
  const [scores, setScores] = useState({ A: {}, B: {}, C: {} });
  const totals = useMemo(() => {
    const t = {};
    ["A","B","C"].forEach(v => {
      t[v] = Object.values(scores[v]).reduce((a,b) => a+b, 0);
    });
    return t;
  }, [scores]);
  const winner = Object.entries(totals).sort((a,b) => b[1]-a[1])[0];

  return (
    <div className="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" onClick={onClose}>
      <div className="bg-white rounded-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-auto shadow-2xl" onClick={e=>e.stopPropagation()}>
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-bold">üèÜ –û—Ü–µ–Ω–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</h3>
          <button onClick={onClose} className="text-gray-400 hover:text-gray-700 text-2xl">√ó</button>
        </div>
        <table className="w-full text-sm mb-4">
          <thead>
            <tr className="border-b-2">
              <th className="text-left py-2">–ö—Ä–∏—Ç–µ—Ä–∏–π</th>
              {["A","B","C"].map(v => <th key={v} className="text-center py-2">{VARIANTS[v].emoji} {v}</th>)}
            </tr>
          </thead>
          <tbody>
            {criteria.map((c, ci) => (
              <tr key={ci} className="border-b">
                <td className="py-3">
                  <div className="font-medium">{c.name}</div>
                  <div className="text-xs text-gray-400">{c.desc}</div>
                </td>
                {["A","B","C"].map(v => (
                  <td key={v} className="text-center py-3">
                    <div className="flex justify-center gap-1">
                      {[1,2,3,4,5].map(n => (
                        <button key={n}
                          onClick={() => setScores(prev => ({...prev, [v]: {...prev[v], [ci]: n}}))}
                          className={`w-7 h-7 rounded-full text-xs font-bold transition
                            ${(scores[v][ci] || 0) >= n ? `${VARIANTS[v].bg} text-white` : 'bg-gray-100 text-gray-400 hover:bg-gray-200'}`}>
                          {n}
                        </button>
                      ))}
                    </div>
                  </td>
                ))}
              </tr>
            ))}
            <tr className="border-t-2 font-bold">
              <td className="py-3">–ò–¢–û–ì–û</td>
              {["A","B","C"].map(v => (
                <td key={v} className={`text-center py-3 text-lg ${winner[0]===v ? VARIANTS[v].txt : ''}`}>
                  {totals[v]}/15 {winner[0]===v && totals[v]>0 ? 'üëë' : ''}
                </td>
              ))}
            </tr>
          </tbody>
        </table>
        {winner[1] > 0 && (
          <button onClick={() => { onLock(winner[0]); onClose(); }}
            className={`w-full py-3 rounded-xl ${VARIANTS[winner[0]].bg} text-white font-bold hover:opacity-90 transition`}>
            ‚úÖ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç {winner[0]} ({VARIANTS[winner[0]].name})
          </button>
        )}
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê LOCKED RESULT ‚ïê‚ïê‚ïê
function LockedBanner({ variant }) {
  if (!variant) return null;
  const v = VARIANTS[variant];
  return (
    <div className={`${v.bg} text-white px-4 py-3 rounded-xl flex items-center gap-3 mb-4`}>
      <span className="text-2xl">‚úÖ</span>
      <div>
        <div className="font-bold">–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω: {v.emoji} –í–∞—Ä–∏–∞–Ω—Ç {variant} ‚Äî {v.name}</div>
        <div className="text-white/70 text-xs">–≠—Ç–æ—Ç CJM –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ PRD (Phase 1)</div>
      </div>
    </div>
  );
}

// ‚ïê‚ïê‚ïê MAIN APP ‚ïê‚ïê‚ïê
function App() {
  const [activeVariant, setActiveVariant] = useState("A");
  const [activeScreen, setActiveScreen] = useState("landing");
  const [showCJM, setShowCJM] = useState(false);
  const [showCompare, setShowCompare] = useState(false);
  const [showBuilder, setShowBuilder] = useState(false);
  const [showScoring, setShowScoring] = useState(false);
  const [locked, setLocked] = useState(null);
  const [builderConfig, setBuilderConfig] = useState(
    Object.fromEntries(SCREENS.map(s => [s, "A"]))
  );

  const currentVariantData = VARIANTS[activeVariant];
  const ScreenComp = SCREEN_COMPONENTS[activeScreen];
  const screenData = currentVariantData[SCREEN_DATA_KEYS[activeScreen]];

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-50 to-gray-200 p-4 lg:p-8">
      {/* Header */}
      <div className="max-w-6xl mx-auto mb-6">
        <h1 className="text-2xl font-extrabold text-gray-900">–ù—É—Ç—Ä–∏–ú–∞–π–Ω–¥ ‚Äî CJM Prototype</h1>
        <p className="text-gray-500 text-sm">3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ Customer Journey Map | Module 2.5</p>
        {locked && <LockedBanner variant={locked}/>}
      </div>

      <div className="max-w-6xl mx-auto flex flex-col lg:flex-row gap-6">
        {/* Left: Controls */}
        <div className="lg:w-64 space-y-4">
          {/* Variant Tabs */}
          <div className="bg-white rounded-2xl p-4 shadow-sm">
            <div className="text-xs text-gray-400 uppercase tracking-wider mb-3">–í–∞—Ä–∏–∞–Ω—Ç</div>
            <div className="space-y-2">
              {Object.entries(VARIANTS).map(([k, v]) => (
                <button key={k}
                  onClick={() => { setActiveVariant(k); setActiveScreen("landing"); }}
                  className={`w-full text-left px-4 py-3 rounded-xl transition font-medium text-sm flex items-center gap-2
                    ${activeVariant === k ? `${v.bg} text-white shadow-md` : `bg-gray-50 text-gray-700 hover:bg-gray-100`}`}>
                  <span className="text-lg">{v.emoji}</span>
                  <span>{k}: {v.name}</span>
                  {locked === k && <span className="ml-auto">‚úÖ</span>}
                </button>
              ))}
            </div>
          </div>

          {/* Screen Nav */}
          <div className="bg-white rounded-2xl p-4 shadow-sm">
            <div className="text-xs text-gray-400 uppercase tracking-wider mb-3">–≠–∫—Ä–∞–Ω</div>
            <div className="space-y-1">
              {SCREENS.map(s => (
                <button key={s}
                  onClick={() => setActiveScreen(s)}
                  className={`w-full text-left px-3 py-2 rounded-lg transition text-sm flex items-center gap-2
                    ${activeScreen === s ? 'bg-gray-900 text-white' : 'text-gray-600 hover:bg-gray-50'}`}>
                  <span>{SCREEN_ICONS[s]}</span>
                  <span>{SCREEN_NAMES[s]}</span>
                </button>
              ))}
            </div>
          </div>

          {/* Tools */}
          <div className="bg-white rounded-2xl p-4 shadow-sm space-y-2">
            <div className="text-xs text-gray-400 uppercase tracking-wider mb-1">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</div>
            <button onClick={() => setShowCJM(!showCJM)}
              className={`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition
                ${showCJM ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-700 hover:bg-gray-100'}`}>
              üìä CJM Overlay {showCJM ? 'ON' : 'OFF'}
            </button>
            <button onClick={() => setShowCompare(true)}
              className="w-full text-left px-3 py-2 rounded-lg text-sm font-medium bg-gray-50 text-gray-700 hover:bg-gray-100 transition">
              ‚öñÔ∏è –°—Ä–∞–≤–Ω–∏—Ç—å
            </button>
            <button onClick={() => setShowBuilder(true)}
              className="w-full text-left px-3 py-2 rounded-lg text-sm font-medium bg-gray-50 text-gray-700 hover:bg-gray-100 transition">
              üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä
            </button>
            <button onClick={() => setShowScoring(true)}
              className="w-full text-left px-3 py-2 rounded-lg text-sm font-medium bg-gray-50 text-gray-700 hover:bg-gray-100 transition">
              üèÜ –û—Ü–µ–Ω–∏—Ç—å
            </button>
          </div>
        </div>

        {/* Center: Phone */}
        <div className="flex-1 flex justify-center">
          <div className="phone-frame bg-white">
            <CJMBadge screen={activeScreen} show={showCJM}/>
            <div className="fade-in h-full" key={`${activeVariant}-${activeScreen}`}>
              <ScreenComp v={screenData} d={currentVariantData}/>
            </div>
          </div>
        </div>

        {/* Right: Info */}
        <div className="lg:w-72 space-y-4">
          {/* Variant Info */}
          <div className={`rounded-2xl p-4 shadow-sm ${currentVariantData.bgl} border ${currentVariantData.bdr}`}>
            <div className="text-2xl mb-2">{currentVariantData.emoji}</div>
            <h3 className={`font-bold ${currentVariantData.txt}`}>–í–∞—Ä–∏–∞–Ω—Ç {activeVariant}: {currentVariantData.name}</h3>
            <div className="mt-3 space-y-2 text-sm">
              <div><span className="font-medium text-gray-600">Aha:</span> <span className="text-gray-800">{currentVariantData.aha.title}</span></div>
              <div><span className="font-medium text-gray-600">Paywall:</span> <span className="text-gray-800">{currentVariantData.pay.when}</span></div>
              <div><span className="font-medium text-gray-600">Loop:</span> <span className="text-gray-800">{currentVariantData.dash.hook}</span></div>
            </div>
          </div>

          {/* CJM Info */}
          <div className="bg-white rounded-2xl p-4 shadow-sm">
            <div className="text-xs text-gray-400 uppercase tracking-wider mb-2">CJM Stage</div>
            <div className="text-sm">
              <div className="font-semibold text-gray-800">{CJM_META[activeScreen].stage}</div>
              <div className={`text-xs font-medium ${currentVariantData.txt} mt-1`}>AARRR: {CJM_META[activeScreen].aarrr}</div>
              <div className="text-xs text-gray-500 mt-2 italic">{CJM_META[activeScreen].q}</div>
            </div>
          </div>

          {/* Hypotheses */}
          <div className="bg-white rounded-2xl p-4 shadow-sm">
            <div className="text-xs text-gray-400 uppercase tracking-wider mb-2">–ì–∏–ø–æ—Ç–µ–∑–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞</div>
            <div className="text-sm text-gray-700">
              {activeVariant === "A" && "CBT-–ø—Ä–æ—Ñ–∏–ª—å = –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω–≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–π —Ç—Ä–∏–≥–≥–µ—Ä. Paywall —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ wow-–º–æ–º–µ–Ω—Ç–∞."}
              {activeVariant === "B" && "–ë—ã—Å—Ç—Ä—ã–µ –≤–∏–¥–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∞–∂–Ω–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. 7 –¥–Ω–µ–π = –ø—Ä–∏–≤—ã—á–∫–∞ + proof."}
              {activeVariant === "C" && "AI-–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π moat. Proof of value –ø–µ—Ä–µ–¥ paywall."}
            </div>
          </div>
        </div>
      </div>

      {/* Modals */}
      {showCompare && <CompareTable onClose={() => setShowCompare(false)}/>}
      {showBuilder && <Builder config={builderConfig} setConfig={setBuilderConfig} onClose={() => setShowBuilder(false)}/>}
      {showScoring && <Scoring onClose={() => setShowScoring(false)} onLock={setLocked}/>}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
</body>
</html>
